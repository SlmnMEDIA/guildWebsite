/*! World of Warcraft Recruit By Talent Widget Version 1.3.3
 * by Rob G (Mottie) 2011
 * http://mottie.guildportal.com
 * Dual licensed under the MIT or GPL Version 2.
 */
(function(c){c.wowTalents=function(j,k){var e=this,a;e.$el=c(j).addClass("recruitTalent");e.$el.data("wowTalents",e);e.init=function(){e.options=a=c.extend({},c.wowTalents.defaultOptions,k);var i,d,g,h,b,f;h=a.defaultNeed.toLowerCase();a.defaultNeed="None";/^l/.test(h)&&(a.defaultNeed="Low");/^m/.test(h)&&(a.defaultNeed="Medium");/^h/.test(h)&&(a.defaultNeed="High");b=c('<div><p class="usebg"/><p class="none"/><p class="low"/><p class="medium"/><p class="high"/></div>').appendTo(c("body"));a.bg=b.find(".usebg").css("color"); a.cn=b.find(".none").css("color");a.cl=b.find(".low").css("color");a.cm=b.find(".medium").css("color");a.ch=b.find(".high").css("color");a.cd=b.find("."+a.defaultNeed.toLowerCase()).css("color");b.remove();b="<div>";f=c.wowTalents.talents.root;for(d=0;d<f.length;d++){h=a[f[d].name.toLowerCase().replace(/\s+/g,"")].split(",");b+='<div class="wowclass"><span class="classIcon '+f[d].icon+'"><span';b+=a.useClassColors?' style="color:'+f[d].color+'">':">";b+=f[d].name+'</span></span><span class="talentIcons">'; for(g=f[d].tree.length-1;0<=g;g--)i=e.getStyle(h[g]||""),b+='<span class="talentIcon '+a.tooltipClass+" "+f[d].tree[g][1]+" "+i[0].toLowerCase()+("class"===a.tooltipMetadata?" ":'" '+a.tooltipMetadata+'="')+"{width:"+a.tooltipWidth+"px;color:"+(a.colorBackground?a.bg+";background:":"")+i[1]+';}" title="'+f[d].tree[g][0]+": "+i[0]+'"></span> ';b+="</span></div>"}e.$el.html(b+"</div>")};e.getStyle=function(c){c=c.toLowerCase();return/^n/.test(c)?["None",a.cn]:/^l/.test(c)?["Low",a.cl]:/^m/.test(c)? ["Medium",a.cm]:/^h/.test(c)?["High",a.ch]:[a.defaultNeed,a.cd]};e.init()};c.wowTalents.defaultOptions={defaultNeed:"Low",colorBackground:!0,useClassColors:!0,tooltipClass:"tooltip",tooltipWidth:150,tooltipMetadata:"class",deathknight:"",druid:"",hunter:"",mage:"",monk:"",paladin:"",priest:"",rogue:"",shaman:"",warlock:"",warrior:""};c.wowTalents.talents={root:[{name:"Death Knight",icon:"icon_class_deathknight",color:"#c41f3b",tree:[["Blood","icon_deathknight_blood"],["Frost","icon_deathknight_frost"], ["Unholy","icon_deathknight_unholy"]]},{name:"Druid",icon:"icon_class_druid",color:"#ff7d0a",tree:[["Balance","icon_druid_balance"],["Guardian","icon_druid_guardian"],["Feral","icon_druid_feral"],["Restoration","icon_druid_restoration"]]},{name:"Hunter",icon:"icon_class_hunter",color:"#abd473",tree:[["Beast Mastery","icon_hunter_beast_mastery"],["Marksmanship","icon_hunter_marksmanship"],["Survival","icon_hunter_survival"]]},{name:"Mage",icon:"icon_class_mage",color:"#69ccf0",tree:[["Arcane","icon_mage_arcane"], ["Fire","icon_mage_fire"],["Frost","icon_mage_frost"]]},{name:"Monk",icon:"icon_class_monk",color:"#00ff96",tree:[["Brewmaster","icon_monk_brewmaster"],["Mistweaver","icon_monk_mistweaver"],["Windwalker","icon_monk_windwalker"]]},{name:"Paladin",icon:"icon_class_paladin",color:"#f58cba",tree:[["Holy","icon_paladin_holy"],["Protection","icon_paladin_protection"],["Retribution","icon_paladin_retribution"]]},{name:"Priest",icon:"icon_class_priest",color:"#ffffff",tree:[["Discipline","icon_priest_discipline"], ["Holy","icon_priest_holy"],["Shadow","icon_priest_shadow"]]},{name:"Rogue",icon:"icon_class_rogue",color:"#fff569",tree:[["Assassination","icon_rogue_assassination"],["Combat","icon_rogue_combat"],["Subtlety","icon_rogue_subtlety"]]},{name:"Shaman",icon:"icon_class_shaman",color:"#2459ff",tree:[["Elemental","icon_shaman_elemental"],["Enhancement","icon_shaman_enhancement"],["Restoration","icon_shaman_restoration"]]},{name:"Warlock",icon:"icon_class_warlock",color:"#9482c9",tree:[["Affliction","icon_warlock_affliction"], ["Demonology","icon_warlock_demonology"],["Destruction","icon_warlock_destruction"]]},{name:"Warrior",icon:"icon_class_warrior",color:"#c79c6e",tree:[["Arms","icon_warrior_arms"],["Fury","icon_warrior_fury"],["Protection","icon_warrior_protection"]]}]};c.fn.wowTalents=function(j){return this.each(function(){new c.wowTalents(this,j)})}})(jQuery);
